<!DOCTYPE html>
<html>
<head>
	<meta charset="UTF-8">
	<meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
	<title>BrainStorm</title>
	<link rel="stylesheet" type="text/css" href="{{ url_for('static', filename='css/stylesheet.css') }}">
	<link href='https://fonts.googleapis.com/css?family=Roboto:400,300,400italic,500,900,700,300italic' rel='stylesheet' type='text/css'>
	<script src="https://ajax.googleapis.com/ajax/libs/jquery/1.12.0/jquery.min.js"></script>
	<script src="{{ url_for('static', filename='js/jquery.autocomplete.min.js') }}"></script>
	
</head>
<body>
	
	<div id='container'>

		<!-- SESSIONS LEFT NAVBAR  -->
		<div id="left-bar">
			<div id="logo">			
				<i class="fa fa-cloud fa-2x" aria-hidden="true"></i>
				<div id="company">BrainStorm</div>
				<div></div>
			</div>

			<input type="text" id="session-name" placeholder="New Session" maxlength="15">
			
			<div id='brainstorm-list'></div>
		</div>

		<div id="navbar">
			<input type="text" id="new-idea" placeholder="New Idea" maxlength="25" name = "{{ active_session }}"/>
			<input class="no-show" type="text" name="country" id="autocomplete" placeholder="Search Users"/>

			<div id="account">	
				<div class="dropdown">
				  <button class="btn dropdown-toggle account" type="button" data-toggle="dropdown" >
				  	{% if g.user.is_authenticated %}
				  		{{ user.name }}
				  	{% else %}
				  		Account
				  	{% endif %}
				  <span class="caret"></span></button>
				  <ul class="dropdown-menu" style="text-align: center">
				    {% if g.user.is_authenticated %}
				  		<li><a href="#" id="show-sessions">Show Sessions</a></li>
				  		<li><a href="#" id="manage-sessions">Manage Sessions</a></li>
				  		<li role="separator" class="divider"></li>
				  		<li><a href="{{ url_for('logout') }}">Logout</a></li>
				  	{% else %}
				  		<li><a href="{{ url_for('login') }}">Login via Facebook</a></li>
				  	{% endif %}


				  </ul>
				</div>
			</div>

			<!--Header for ideas -->
			<div class="idea-header" id="header1">
				<div class="title name">Rate</div>
				<div class="title">Score</div>
			</div>

			<div class="idea-header rated-header" id="header2">
				<div class="title name">Rated</div>
				<div class="title">Average</div>
			</div>

			<!--Header for user management -->
			<div class="idea-header no-show" id="user-header">
				<div class="title name">Group</div>
			</div>
		</div>

		<!--contains unrated ideas-->
		<div class="idea-container" id="unrated-list">
		</div>

		<div class="idea-container rated" id="rated-list">
		</div>

		<div class="no-show" id="user-container">
			
		</div>
	</div>

	
	  <!-- ========= -->
	  <!-- Templates -->
	  <!-- ========= -->
	  <script type="text/template" id="session-template">
	    <form class="sessions" id="<%- id %>">
	    	<i class="fa fa-bars" aria-hidden="true"></i>&nbsp&nbsp <%- title %>
	    </form>		
	  </script>

	  <script type="text/template" id="idea-template">
	    <div class="idea">
	    	<div class="idea-name"><%- name %></div>
	    	<input type="number" max="10" min="1" name="<%- name %>" class="score" placeholder="1-10" id="i<%- id %>">
	    </div>
	  </script>


	  <script type="text/template" id="rated-idea-template">
	    <div class="idea">	    	
	    	<div class="idea-name"><%- name %></div>
	    	<div class="avg-score"><%- score %></div>
	    </div>
	  </script>

	  <script type="text/template" id="user-template">
	  	<div class='user-profile'>
	  		<div class='user-pic' style="background-image: url(<%- profile_pic %>)" name = "<%- id %>">
	  			<div class='user-name'><%- name %> </div>
	  			<i class="fa fa-times-circle-o fa-lg" aria-hidden="true"></i>
	  		</div>
	  	</div>
	  </script>


	  <!-- jQuery -->
	  
	  <script src="http://cdnjs.cloudflare.com/ajax/libs/underscore.js/1.3.3/underscore-min.js" type="text/javascript"></script>
	  <script src="http://cdnjs.cloudflare.com/ajax/libs/backbone.js/0.9.2/backbone-min.js" type="text/javascript"></script>

	  <!-- Latest compiled and minified CSS -->
	  <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.6/css/bootstrap.min.css" integrity="sha384-1q8mTJOASx8j1Au+a5WDVnPi2lkFfwwEAa8hDDdjZlpLegxhjVME1fgjWPGmkzs7" crossorigin="anonymous">

	  <!-- Optional theme -->
	  <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.6/css/bootstrap-theme.min.css" integrity="sha384-fLW2N01lMqjakBkx3l/M9EahuwpSfeNvV63J5ezn3uZzapT0u7EYsXMjQV+0En5r" crossorigin="anonymous">

	  <!-- Latest compiled and minified JavaScript -->
	  <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.6/js/bootstrap.min.js" integrity="sha384-0mSbJDEHialfmuBBQP6A4Qrprq5OVfW37PRR3j5ELqxss1yVqOtnepnHVP9aJ7xS" crossorigin="anonymous"></script>
	  <script src="https://use.fontawesome.com/189f59b0ea.js"></script>

	  <!-- =============== -->
	  <!-- Javascript code -->
	  <!-- =============== -->
	  <script src="{{ url_for('static', filename='js/model.js') }}"></script>
	  <script src="{{ url_for('static', filename='js/collection.js') }}"></script>
	  <script src="{{ url_for('static', filename='js/views.js') }}"></script>
	  <script src="{{ url_for('static', filename='js/user-search.js') }}"></script>

	  <script type="text/javascript">
	    app.sessionList.reset({{ sessions | tojson }});
	    app.sessionListView = new app.SessionListView();

	    app.unratedIdeaList.reset( {{ unrated | tojson }} );
	    app.unratedIdeaListView = new app.UnratedIdeaListView();

	    app.ratedIdeaList.reset( {{ rated | tojson }} );
	    app.ratedIdeaListView = new app.RatedIdeaListView();

	    app.permissionList.reset( {{ permissions | tojson }} );
		app.userList.reset( {{ users | tojson }} );
		app.userListView = new app.UserListView();

	  </script>

</body>
</html>