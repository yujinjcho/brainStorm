<!DOCTYPE html>
<html>
<head>
	<meta charset="UTF-8">
	<meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
	<title>BrainStorm</title>
	<link rel="stylesheet" type="text/css" href="{{ url_for('static', filename='css/stylesheet.css') }}">
	<link href='https://fonts.googleapis.com/css?family=Roboto:400,300,400italic,500,900,700,300italic' rel='stylesheet' type='text/css'>
	<script src="https://ajax.googleapis.com/ajax/libs/jquery/1.12.0/jquery.min.js"></script>
	<script src="{{ url_for('static', filename='js/jquery.autocomplete.min.js') }}"></script>
	
</head>
<body>

	

	<nav class="navbar navbar-default">
	  <div class="container-fluid">
	    <!-- Brand and toggle get grouped for better mobile display -->
	    <div class="navbar-header">
	      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#bs-example-navbar-collapse-1" aria-expanded="false">
	        <span class="sr-only">Toggle navigation</span>
	        <span class="icon-bar"></span>
	        <span class="icon-bar"></span>
	        <span class="icon-bar"></span>
	      </button>
	    </div>

	    <!-- Collect the nav links, forms, and other content for toggling -->
	    <div class="collapse navbar-collapse" id="bs-example-navbar-collapse-1">

	      <ul class="nav navbar-nav">
	        
	        <li><a href="#"><i class="fa fa-cloud" aria-hidden="true"></i> Idea Storm</a></li>
	      </ul>      
	      
	      <ul class="nav navbar-nav navbar-right">
	        <li class="dropdown">
	          <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-haspopup="true" aria-expanded="false">
	          	{% if g.user.is_authenticated %}
			  		{{ user.name }}
			  	{% endif %}
			  	<span class="caret"></span></button>
	          </a>
	          <ul class="dropdown-menu">
	            
	            {% if g.user.is_authenticated and g.user.id != 4 %}
			  		<li><a href="#" id="show-sessions">Show Sessions</a></li>
			  		<li><a href="#" id="manage-sessions">Manage Sessions</a></li>
			  		<li role="separator" class="divider"></li>
			  		<li><a href="{{ url_for('logout') }}">Logout</a></li>
			  	{% else %}
			  		<li><a href="#" id="show-sessions" style="display: none">Show Sessions</a></li>
			  		<li><a href="#" id="manage-sessions" style="display: none">Manage Sessions</a></li>
			  		<li><a href="{{ url_for('login') }}">Login via Facebook</a></li>
			  	{% endif %}
	          </ul>
	        </li>
	      </ul>
	    </div><!-- /.navbar-collapse -->
	  </div><!-- /.container-fluid -->
	</nav>
	
	<div id='container'>

		<!-- SESSIONS LEFT NAVBAR  -->
		<div id="left-bar">
			
			<!--
			<div id="logo">			
				<i class="fa fa-cloud fa-2x" aria-hidden="true"></i>
				<div id="company">BrainStorm</div>
				<div></div>
			</div>
			-->

			<input type="text" id="session-name" placeholder="Add New Session" maxlength="15">
			
			<div id='brainstorm-list'></div>
		</div>



		<!--contains unrated ideas-->
		<div id="unrated-container">
			<div class="idea-header" id="header1">
				<div class="title name">Rate</div>
				<div class="title">Score</div>
			</div>
			<input type="text" id="new-idea" placeholder="Add New Idea Here" maxlength="25" name = "{{ active_session }}" autofocus/>
			<div class="idea-container" id="unrated-list">
			</div>
		</div>

		<div id="rated-container">
			<div class="idea-header rated-header" id="header2">
				<div class="title name">Rated</div>
				<div class="title">Average</div>
			</div>
			<div class="idea-container rated" id="rated-list">
			</div>
		</div>
		
		<div id="group-container" class="no-show">
			<input class="" type="text" name="country" id="autocomplete" placeholder="Search for a user"/>
			<div class="idea-header" id="user-header">
				<div class="title name">Group</div>
			</div>
			<div class="no-show" id="user-container">			
			</div>
		</div>
	</div>

	
	  <!-- ========= -->
	  <!-- Templates -->
	  <!-- ========= -->
	  <script type="text/template" id="session-template">
	    <form class="sessions" id="<%- id %>">
	    	<i class="fa fa-bars" aria-hidden="true"></i>&nbsp&nbsp <%- title %>
	    </form>		
	  </script>

	  <script type="text/template" id="idea-template">
	    <div class="idea">
	    	<div class="idea-name"><%- name %></div>
	    	<input type="number" max="10" min="1" name="<%- name %>" class="score" placeholder="1-10" id="i<%- id %>">
	    </div>
	  </script>


	  <script type="text/template" id="rated-idea-template">
	    <div class="idea">	    	
	    	<div class="idea-name"><%- name %></div>
	    	<div class="avg-score"><%- score %></div>
	    </div>
	  </script>

	  <script type="text/template" id="user-template">
	  	<div class='user-profile'>
	  		<div class='user-pic' style="background-image: url(<%- profile_pic %>)" name = "<%- id %>">
	  			<div class='user-name'><%- name %> </div>
	  			<i class="fa fa-times-circle-o fa-lg" aria-hidden="true"></i>
	  		</div>
	  	</div>
	  </script>


	  <!-- jQuery -->
	  
	  <script src="https://cdnjs.cloudflare.com/ajax/libs/underscore.js/1.3.3/underscore-min.js" type="text/javascript"></script>
	  <script src="https://cdnjs.cloudflare.com/ajax/libs/backbone.js/0.9.2/backbone-min.js" type="text/javascript"></script>

	  <!-- Latest compiled and minified CSS -->
	  <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.6/css/bootstrap.min.css" integrity="sha384-1q8mTJOASx8j1Au+a5WDVnPi2lkFfwwEAa8hDDdjZlpLegxhjVME1fgjWPGmkzs7" crossorigin="anonymous">

	  <!-- Optional theme -->
	  <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.6/css/bootstrap-theme.min.css" integrity="sha384-fLW2N01lMqjakBkx3l/M9EahuwpSfeNvV63J5ezn3uZzapT0u7EYsXMjQV+0En5r" crossorigin="anonymous">

	  <!-- Latest compiled and minified JavaScript -->
	  <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.6/js/bootstrap.min.js" integrity="sha384-0mSbJDEHialfmuBBQP6A4Qrprq5OVfW37PRR3j5ELqxss1yVqOtnepnHVP9aJ7xS" crossorigin="anonymous"></script>
	  <script src="https://use.fontawesome.com/189f59b0ea.js"></script>

	  <!-- =============== -->
	  <!-- Javascript code -->
	  <!-- =============== -->
	  <script src="{{ url_for('static', filename='js/model.js') }}"></script>
	  <script src="{{ url_for('static', filename='js/collection.js') }}"></script>
	  <script src="{{ url_for('static', filename='js/views.js') }}"></script>
	  

	  <script type="text/javascript">
	    app.active_user = {{ user.id }}

	    app.sessionList.reset({{ sessions | tojson }});
	    app.sessionListView = new app.SessionListView();

	    app.unratedIdeaList.reset( {{ unrated | tojson }} );
	    app.unratedIdeaListView = new app.UnratedIdeaListView();

	    app.ratedIdeaList.reset( {{ rated | tojson }} );
	    app.ratedIdeaListView = new app.RatedIdeaListView();

			app.userListView = new app.UserListView();
	    app.permissionList.reset( {{ permissions | tojson }} );
			app.userList.reset( {{ users | tojson }}, {wait:true} );
			

	  </script>
	  <script src="{{ url_for('static', filename='js/user-search.js') }}"></script>

</body>
</html>